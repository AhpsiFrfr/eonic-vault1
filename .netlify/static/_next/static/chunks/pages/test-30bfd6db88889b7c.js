(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{56428:(s,e,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/test",function(){return a(65614)}])},65614:(s,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>o});var t=a(37876),d=a(5031),i=a.n(d),c=a(77328),l=a.n(c),n=a(14232);let r=s=>{if(!s)return"0 minutes";let e=s.match(/(?:(\d+) years? )?(?:(\d+) mons? )?(?:(\d+) days? )?(?:(\d+):([0-5]\d):([0-5]\d))?/);if(!e)return s;let[a,t,d,i,c,l,n]=e,r=[];return t&&r.push("".concat(t," year").concat("1"===t?"":"s")),d&&r.push("".concat(d," month").concat("1"===d?"":"s")),i&&r.push("".concat(i," day").concat("1"===i?"":"s")),c&&r.push("".concat(c," hour").concat("1"===c?"":"s")),l&&r.push("".concat(l," minute").concat("1"===l?"":"s")),n&&r.push("".concat(n," second").concat("1"===n?"":"s")),r.join(", ")||"0 minutes"},o=()=>{var s;let e="9qnKguL5uUp8PbrXDcSUWbJ1gbTkGh3URyLtx66Ya7Lx",[a,d]=(0,n.useState)(""),[c,o]=(0,n.useState)(""),[x,u]=(0,n.useState)("online"),[h,j]=(0,n.useState)(""),[m,p]=(0,n.useState)("Click a button to test the API"),[g,y]=(0,n.useState)(!1),[f,N]=(0,n.useState)(null),b=async()=>{try{let s={};a&&(s.display_name=a),c&&(s.avatar_url=c),x&&(s.status=x),h&&(s.custom_status=h);let t=await fetch("/api/profile?address=".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),d=await t.json();p(JSON.stringify(d,null,2)),y(!t.ok)}catch(s){p("Error: "+s.message),y(!0)}},v=async()=>{try{let s=await fetch("/api/profile?address=".concat(e)),a=await s.json();console.log("Profile response:",a),p(JSON.stringify(a,null,2)),y(!s.ok),s.ok&&a&&(N(a),d(a.display_name||""),o(a.avatar_url||""),u(a.status||"online"),j(a.custom_status||""))}catch(s){p("Error: "+s.message),y(!0)}},_=async()=>{for(let s of[{display_name:"a"},{display_name:"Test",avatar_url:"invalid-url"},{display_name:"Test",status:"invalid"}])try{let a=await fetch("/api/profile?address=".concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),t=await a.json();p("Test: ".concat(JSON.stringify(s),"\nResponse: ").concat(JSON.stringify(t,null,2))),y(!a.ok),await new Promise(s=>setTimeout(s,2e3))}catch(s){p("Error: "+s.message),y(!0)}};return(0,n.useEffect)(()=>{v()},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l(),{children:(0,t.jsx)("title",{children:"Test Profile API"})}),(0,t.jsxs)("div",{style:{fontFamily:"Arial",maxWidth:"800px",margin:"20px auto",padding:"20px"},className:"jsx-d4c109e3153d31a7",children:[(0,t.jsx)("h2",{className:"jsx-d4c109e3153d31a7",children:"Test Profile API"}),(0,t.jsxs)("div",{className:"jsx-d4c109e3153d31a7 form-group",children:[(0,t.jsx)("label",{className:"jsx-d4c109e3153d31a7",children:"Display Name:"}),(0,t.jsx)("input",{type:"text",value:a,onChange:s=>d(s.target.value),placeholder:"Enter display name",className:"jsx-d4c109e3153d31a7"})]}),(0,t.jsxs)("div",{className:"jsx-d4c109e3153d31a7 form-group",children:[(0,t.jsx)("label",{className:"jsx-d4c109e3153d31a7",children:"Avatar URL:"}),(0,t.jsx)("input",{type:"text",value:c,onChange:s=>o(s.target.value),placeholder:"http://... or /...",className:"jsx-d4c109e3153d31a7"})]}),(0,t.jsxs)("div",{className:"jsx-d4c109e3153d31a7 form-group",children:[(0,t.jsx)("label",{className:"jsx-d4c109e3153d31a7",children:"Status:"}),(0,t.jsxs)("select",{value:x,onChange:s=>u(s.target.value),className:"jsx-d4c109e3153d31a7",children:[(0,t.jsx)("option",{value:"online",className:"jsx-d4c109e3153d31a7",children:"Online"}),(0,t.jsx)("option",{value:"busy",className:"jsx-d4c109e3153d31a7",children:"Busy"}),(0,t.jsx)("option",{value:"away",className:"jsx-d4c109e3153d31a7",children:"Away"}),(0,t.jsx)("option",{value:"offline",className:"jsx-d4c109e3153d31a7",children:"Offline"}),(0,t.jsx)("option",{value:"invalid",className:"jsx-d4c109e3153d31a7",children:"Invalid Status (for testing)"})]})]}),(0,t.jsxs)("div",{className:"jsx-d4c109e3153d31a7 form-group",children:[(0,t.jsx)("label",{className:"jsx-d4c109e3153d31a7",children:"Custom Status Message:"}),(0,t.jsx)("input",{type:"text",value:h,onChange:s=>j(s.target.value),placeholder:"What's on your mind? (60 chars max)",maxLength:60,className:"jsx-d4c109e3153d31a7"})]}),f&&(0,t.jsxs)("div",{className:"jsx-d4c109e3153d31a7 stats",children:[(0,t.jsx)("h3",{className:"jsx-d4c109e3153d31a7",children:"Profile Stats:"}),(0,t.jsxs)("ul",{className:"jsx-d4c109e3153d31a7",children:[(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7",children:["\uD83C\uDFAD Status: ",f.status]}),(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7",children:["\uD83D\uDCAD Custom Status: ",f.custom_status||"No status set"]}),(0,t.jsx)("li",{className:"jsx-d4c109e3153d31a7",children:"\uD83D\uDCCA Activity:"}),(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7 indent",children:["\uD83D\uDCE8 Messages: ",f.messages_sent||0]}),(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7 indent",children:["\uD83D\uDD01 Shared: ",f.posts_shared||0]}),(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7 indent",children:["❤️ Liked: ",f.posts_liked||0]}),(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7 indent",children:["⭐ Reactions: ",f.total_reactions||0]}),(0,t.jsx)("li",{className:"jsx-d4c109e3153d31a7 metric-header",children:"Community Stats:"}),(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7",children:["\uD83D\uDCAC Chat Time: ",r(f.time_in_chat)]}),(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7",children:["\uD83D\uDCE8 Messages Sent: ",f.messages_sent]}),(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7",children:["\uD83D\uDD01 Posts Shared: ",f.posts_shared]}),(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7",children:["❤️ Posts Liked: ",f.posts_liked]}),(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7",children:["⭐ Total Reactions: ",f.total_reactions]}),(null==(s=f.social_stats)?void 0:s.weekly_activity)&&(0,t.jsxs)("li",{className:"jsx-d4c109e3153d31a7 activity-chart",children:[(0,t.jsx)("div",{className:"jsx-d4c109e3153d31a7",children:"\uD83D\uDCCA Weekly Activity:"}),(0,t.jsx)("div",{className:"jsx-d4c109e3153d31a7 chart",children:f.social_stats.weekly_activity.map((s,e)=>(0,t.jsx)("div",{style:{height:"".concat(Math.min(100,s/Math.max(...f.social_stats.weekly_activity)*100),"%"),opacity:0===s?.2:1},title:"".concat(["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e],": ").concat(s," actions"),className:"jsx-d4c109e3153d31a7 bar"},e))})]})]})]}),(0,t.jsx)("button",{onClick:b,className:"jsx-d4c109e3153d31a7",children:"Update Profile"}),(0,t.jsx)("button",{onClick:v,className:"jsx-d4c109e3153d31a7",children:"Get Profile"}),(0,t.jsx)("button",{onClick:_,className:"jsx-d4c109e3153d31a7",children:"Test Invalid Inputs"}),(0,t.jsx)("h3",{className:"jsx-d4c109e3153d31a7",children:"Response:"}),(0,t.jsx)("pre",{className:"jsx-d4c109e3153d31a7 "+((g?"error":"success")||""),children:m}),(0,t.jsx)(i(),{id:"d4c109e3153d31a7",children:".form-group.jsx-d4c109e3153d31a7{margin-bottom:15px}label.jsx-d4c109e3153d31a7{display:block;margin-bottom:5px}input.jsx-d4c109e3153d31a7,select.jsx-d4c109e3153d31a7{width:100%;padding:8px;margin-bottom:10px}button.jsx-d4c109e3153d31a7{padding:10px;margin:5px;cursor:pointer}pre.jsx-d4c109e3153d31a7{background:#f5f5f5;padding:10px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;white-space:pre-wrap}.error.jsx-d4c109e3153d31a7{color:red}.success.jsx-d4c109e3153d31a7{color:green}.stats.jsx-d4c109e3153d31a7{margin:20px 0;padding:15px;background:#f0f0f0;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.stats.jsx-d4c109e3153d31a7 h3.jsx-d4c109e3153d31a7{margin-top:0}.stats.jsx-d4c109e3153d31a7 ul.jsx-d4c109e3153d31a7{list-style:none;padding:0}.stats.jsx-d4c109e3153d31a7 li.jsx-d4c109e3153d31a7{margin:5px 0}.metric-header.jsx-d4c109e3153d31a7{font-weight:bold;margin-top:15px}.activity-chart.jsx-d4c109e3153d31a7{margin-top:15px}.activity-chart.jsx-d4c109e3153d31a7 .chart.jsx-d4c109e3153d31a7{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;-moz-box-align:end;-ms-flex-align:end;align-items:flex-end;height:50px;gap:2px;margin-top:5px;background:#e0e0e0;padding:5px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.activity-chart.jsx-d4c109e3153d31a7 .bar.jsx-d4c109e3153d31a7{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;background:#4CAF50;min-height:1px;-webkit-transition:height.3s ease;-moz-transition:height.3s ease;-o-transition:height.3s ease;transition:height.3s ease}"})]})]})}}},s=>{var e=e=>s(s.s=e);s.O(0,[522,636,593,792],()=>e(56428)),_N_E=s.O()}]);